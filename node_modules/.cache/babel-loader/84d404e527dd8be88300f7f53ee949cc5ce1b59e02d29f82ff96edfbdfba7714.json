{"ast":null,"code":"var _jsxFileName = \"/home/brockschoenthaler/Desktop/Coding Projects/Physics_Sims/Physics-Simulations/src/Bouncing_Balls/Components/PhysicsCanvas.jsx\",\n  _s = $RefreshSig$();\n/**\n * PhysicsCanvas.jsx\n *\n * React component that hosts the canvas element.\n * This file coordinates:\n *  - user input\n *  - physics updates\n *  - rendering\n *\n * IMPORTANT:\n * React state is NOT used for physics objects.\n * We use refs to avoid re-rendering on every frame.\n */\n\nimport { useRef, useEffect } from \"react\";\nimport { updatePhysics } from \"../Physics/updatePhysics\";\nimport { drawBall } from \"../Render/drawBall\";\nimport { Ball } from \"../Physics/Ball\";\nimport { BALL_PRESETS } from \"../Presets/ballPresents\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PhysicsCanvas() {\n  _s();\n  /**\n   * Reference to the canvas DOM element.\n   * This never causes a React re-render.\n   */\n  const canvasRef = useRef(null);\n\n  /**\n   * Mutable list of all physics bodies in the simulation.\n   * Stored in a ref so it can be updated every frame\n   * without triggering React updates.\n   */\n  const ballsRef = useRef([]);\n\n  /**\n   * Handles mouse clicks on the canvas.\n   * Spawns a new Ball at the mouse position.\n   */\n  function handleClick(event) {\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n\n    // Convert mouse coordinates from screen space to canvas space\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    // Create a new physics body using a predefined preset\n    ballsRef.current.push(new Ball({\n      x,\n      y,\n      ...BALL_PRESETS.rubber,\n      vx: Math.random() * 4 - 2,\n      // random horizontal impulse\n      vy: -6 // upward impulse\n    }));\n  }\n\n  /**\n   * Main animation loop.\n   * Runs once on mount and schedules itself using requestAnimationFrame.\n   */\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    function animate() {\n      // Clear the entire canvas before redrawing\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      // Update physics and render each ball\n      ballsRef.current.forEach(ball => {\n        updatePhysics(ball, canvas);\n        drawBall(ctx, ball);\n      });\n\n      // Schedule the next frame\n      requestAnimationFrame(animate);\n    }\n    animate();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    width: 800,\n    height: 600,\n    onClick: handleClick\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n}\n_s(PhysicsCanvas, \"isMPTRP3ysV+cM4XSo2/Ck919Us=\");\n_c = PhysicsCanvas;\nvar _c;\n$RefreshReg$(_c, \"PhysicsCanvas\");","map":{"version":3,"names":["useRef","useEffect","updatePhysics","drawBall","Ball","BALL_PRESETS","jsxDEV","_jsxDEV","PhysicsCanvas","_s","canvasRef","ballsRef","handleClick","event","canvas","current","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","push","rubber","vx","Math","random","vy","ctx","getContext","animate","clearRect","width","height","forEach","ball","requestAnimationFrame","ref","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/brockschoenthaler/Desktop/Coding Projects/Physics_Sims/Physics-Simulations/src/Bouncing_Balls/Components/PhysicsCanvas.jsx"],"sourcesContent":["/**\n * PhysicsCanvas.jsx\n *\n * React component that hosts the canvas element.\n * This file coordinates:\n *  - user input\n *  - physics updates\n *  - rendering\n *\n * IMPORTANT:\n * React state is NOT used for physics objects.\n * We use refs to avoid re-rendering on every frame.\n */\n\nimport { useRef, useEffect } from \"react\";\nimport { updatePhysics } from \"../Physics/updatePhysics\";\nimport { drawBall } from \"../Render/drawBall\";\nimport { Ball } from \"../Physics/Ball\";\nimport { BALL_PRESETS } from \"../Presets/ballPresents\";\n\nexport default function PhysicsCanvas() {\n  /**\n   * Reference to the canvas DOM element.\n   * This never causes a React re-render.\n   */\n  const canvasRef = useRef(null);\n\n  /**\n   * Mutable list of all physics bodies in the simulation.\n   * Stored in a ref so it can be updated every frame\n   * without triggering React updates.\n   */\n  const ballsRef = useRef([]);\n\n  /**\n   * Handles mouse clicks on the canvas.\n   * Spawns a new Ball at the mouse position.\n   */\n  function handleClick(event) {\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n\n    // Convert mouse coordinates from screen space to canvas space\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    // Create a new physics body using a predefined preset\n    ballsRef.current.push(\n      new Ball({\n        x,\n        y,\n        ...BALL_PRESETS.rubber,\n        vx: Math.random() * 4 - 2, // random horizontal impulse\n        vy: -6, // upward impulse\n      })\n    );\n  }\n\n  /**\n   * Main animation loop.\n   * Runs once on mount and schedules itself using requestAnimationFrame.\n   */\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n\n    function animate() {\n      // Clear the entire canvas before redrawing\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      // Update physics and render each ball\n      ballsRef.current.forEach(ball => {\n        updatePhysics(ball, canvas);\n        drawBall(ctx, ball);\n      });\n\n      // Schedule the next frame\n      requestAnimationFrame(animate);\n    }\n\n    animate();\n  }, []);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      width={800}\n      height={600}\n      onClick={handleClick}\n    />\n  );\n}\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,MAAM,EAAEC,SAAS,QAAQ,OAAO;AACzC,SAASC,aAAa,QAAQ,0BAA0B;AACxD,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,SAASC,IAAI,QAAQ,iBAAiB;AACtC,SAASC,YAAY,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvD,eAAe,SAASC,aAAaA,CAAA,EAAG;EAAAC,EAAA;EACtC;AACF;AACA;AACA;EACE,MAAMC,SAAS,GAAGV,MAAM,CAAC,IAAI,CAAC;;EAE9B;AACF;AACA;AACA;AACA;EACE,MAAMW,QAAQ,GAAGX,MAAM,CAAC,EAAE,CAAC;;EAE3B;AACF;AACA;AACA;EACE,SAASY,WAAWA,CAACC,KAAK,EAAE;IAC1B,MAAMC,MAAM,GAAGJ,SAAS,CAACK,OAAO;IAChC,MAAMC,IAAI,GAAGF,MAAM,CAACG,qBAAqB,CAAC,CAAC;;IAE3C;IACA,MAAMC,CAAC,GAAGL,KAAK,CAACM,OAAO,GAAGH,IAAI,CAACI,IAAI;IACnC,MAAMC,CAAC,GAAGR,KAAK,CAACS,OAAO,GAAGN,IAAI,CAACO,GAAG;;IAElC;IACAZ,QAAQ,CAACI,OAAO,CAACS,IAAI,CACnB,IAAIpB,IAAI,CAAC;MACPc,CAAC;MACDG,CAAC;MACD,GAAGhB,YAAY,CAACoB,MAAM;MACtBC,EAAE,EAAEC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;MAAE;MAC3BC,EAAE,EAAE,CAAC,CAAC,CAAE;IACV,CAAC,CACH,CAAC;EACH;;EAEA;AACF;AACA;AACA;EACE5B,SAAS,CAAC,MAAM;IACd,MAAMa,MAAM,GAAGJ,SAAS,CAACK,OAAO;IAChC,MAAMe,GAAG,GAAGhB,MAAM,CAACiB,UAAU,CAAC,IAAI,CAAC;IAEnC,SAASC,OAAOA,CAAA,EAAG;MACjB;MACAF,GAAG,CAACG,SAAS,CAAC,CAAC,EAAE,CAAC,EAAEnB,MAAM,CAACoB,KAAK,EAAEpB,MAAM,CAACqB,MAAM,CAAC;;MAEhD;MACAxB,QAAQ,CAACI,OAAO,CAACqB,OAAO,CAACC,IAAI,IAAI;QAC/BnC,aAAa,CAACmC,IAAI,EAAEvB,MAAM,CAAC;QAC3BX,QAAQ,CAAC2B,GAAG,EAAEO,IAAI,CAAC;MACrB,CAAC,CAAC;;MAEF;MACAC,qBAAqB,CAACN,OAAO,CAAC;IAChC;IAEAA,OAAO,CAAC,CAAC;EACX,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEzB,OAAA;IACEgC,GAAG,EAAE7B,SAAU;IACfwB,KAAK,EAAE,GAAI;IACXC,MAAM,EAAE,GAAI;IACZK,OAAO,EAAE5B;EAAY;IAAA6B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACtB,CAAC;AAEN;AAACnC,EAAA,CAvEuBD,aAAa;AAAAqC,EAAA,GAAbrC,aAAa;AAAA,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}